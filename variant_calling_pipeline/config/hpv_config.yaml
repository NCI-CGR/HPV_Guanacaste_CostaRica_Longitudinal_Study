# Path to the mapped bam files generated by Tmap
# The bam files generated by Tmap are the input to this pipeline
tmap_path: mapped_bam_path/*bam

# The HPV types
hpv_types:
    - '16'
    - '18'
    - '31'
    - '33'
    - '35'
    - '39'
    - '45'
    - '51'
    - '52'
    - '56'
    - '58'
    - '59'

# The HPV reference genomes must include a 400 bp padding (duplicate of 1-400 bp) in the end.
padding: True

# The panel name (universal or single).
# For HPV16 using single, for all the other types use universal
panel: universal

# A prefix common to all the sample IDs
cohort:
    - 'NHS'

project_name: HPV_NHS


# This is where copies of all the blanks from all the runs are stored
blank_archive: archived_blanks

# Choose the subworkflows to include
workflows:
    - qc_Snakefile
    - variant_Snakefile
    - lowAF_Snakefile

# This is the config file that has targets for each workflow. 
workflow_targets: 'config/workflow_targets.yaml'

tvc_param_template:
    germline: references/HPV_NHS.germline.tvc.json
    somatic: references/HPV_NHS.somatic.tvc.json

tvc_min_af: 
    germline: 0.5
    somatic: 0.02

tvc_min_cov: 
    germline: 4
    somatic: 100

tvc_hotspot_cov: 100

### QC parameters ###

# mapq threshold - remember TMAP uses a difference quality scale than other aligners
aq_filter: 4

# coverage bins
mosdepth_thresh: '4,20,100,500,1000'
mosdepth_quant: '0:20:50:100:200:'

# minimum read depth for building phylo trees from fasta files
tree_min_read: 4

# max number of Ns for phylo trees and fasta files
tree_fasta_n: 75

# extra filter for some low qual samples that were still making it through the tree-building thresholds.
# also flags blanks with potential contamination
qc_min_reads: 3000


# Path to the HPV reference genome file (all HR-HPV genomes with 400 bp padding
# plus the human genome). The sequences must be formatted to have 60 bases per line.
hpv_reference: path/HR_HPV_ref_genome.fasta
# Same reference genome as above but, without any line breaks
hpv_ref_nobreak: path/HR_HPV_ref_genome_without_breaks.fasta

# bed file for the type specific amplicon panel
single_amplicon_bed: references/HPV%s.amplicon.bed
# bed file for all the HR-HPV type amplicon panel
universal_amplicon_bed: references/HPV_universal.amplicon.bed

# these bed files encompass the full genome from 0..8000 (including the 400 bp padding)
single_len_bed: references/HPV%s.len.bed
universal_len_bed: references/HPV_universal.len.bed


# Tools and packages
vc_bin: path/tvc-5.0.3/bin
vc_pipe: path/tvc-5.0.3/bin/variant_caller_pipeline.py
vc_param: references/HPV_NHS.germline.tvc.json

# SNPEFF
# Add path to snpEff database
snpeff: path/snpEff
# Create the hpv universal database using the references/genes.gtf file
snpeff_db: hpv_universal
# Any additional bed file for SNPEff
snpeff_bed: path/snpeff_annot_bedfile.bed 
# Use this 
genes_gtf: references/genes.gtf
genes_bed: references/universal_genes.bed # above gtf converted to bed format - also no CDS, etc
